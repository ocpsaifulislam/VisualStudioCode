(()=>{function e(){let e=document.querySelector("meta[name='csrf-token']");return null!==e?e.content:void 0}function t(){return new Promise(((e,t)=>{r({resolve:e,reject:t})()}))}var r=({resolve:t,reject:r,safe:n=!1,waitTime:o=20})=>{let s=0;return function i(){if(3e3===s)return n?void t({user:l,csrfToken:c}):void r(new Error("Couldn't find user data on page."));let c=e(document),{user:l}=document.body.dataset;if(l&&void 0!==c){let e=JSON.parse(l);t({currentUser:e,csrfToken:c})}else s+=o,setTimeout(i,o)}};t().then((({currentUser:e})=>{e.policies&&e.policies.forEach((e=>{let t=document.getElementsByClassName(e.dom_class);for(let r of t)e.visible?r.classList.remove("hidden"):r.classList.add("hidden")}))}))})();