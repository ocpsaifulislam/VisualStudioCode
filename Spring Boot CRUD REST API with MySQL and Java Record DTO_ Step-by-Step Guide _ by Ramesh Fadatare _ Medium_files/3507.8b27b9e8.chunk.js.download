/*! For license information please see 3507.8b27b9e8.chunk.js.LICENSE.txt */
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3507],{87265:(e,n,i)=>{i.r(n),i.d(n,{MainContent:()=>_e,PostSubmissionContext:()=>we,useLoader:()=>Ee});var t=i(5544),a=i(95964),l=i(96540),o=i(26365),d=i(77999),r=i(95765),m=i(37614),u=i(67173),s=i(19723),c=i(27721),k=i(8697),v=i(28072),p=i(52290),S=i(48198),f=i(49287),N=i(91586),b=i(51260),g=i(50684),y=i(69547),F={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPostForSubmissionQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostResultError_postResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSubmissionContext_post"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"draftResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DraftResultError_draftResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostSubmissionContext_draft"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UnavailableForLegalReasonsScreen_unavailableForLegalReasons"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnavailableForLegalReasons"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lumenId"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"WithheldInCountryScreen_withheldInCountry"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WithheldInCountry"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lumenId"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionInputActions_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSettingsTags_tag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}},{kind:"Field",name:{kind:"Name",value:"followerCount"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSettingsTags_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"tagsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostSettingsTags_tag"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UpdatePostPaywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PaywallPostCheckbox_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpdatePostPaywall_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EmailSubscribersCheckbox_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"subscribersCount"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"getStoryPreviewData_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryPreviewTitleAndSubtitle_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getStoryPreviewData_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreviewImage_imageMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"alt"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"getGridPostPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreviewImage_imageMetadata"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getGridPostPreviewImage_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreviewImage_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EditableStoryPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"StoryPreviewImage_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublishStoryPreview_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryPreviewTitleAndSubtitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EditableStoryPreviewImage_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionForm_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSettingsTags_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PaywallPostCheckbox_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EmailSubscribersCheckbox_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublishStoryPreview_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ConfirmSubmissionScreen_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionForm_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"getStoryPreviewData_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postId"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryPreviewTitleAndSubtitle_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"getStoryPreviewData_draft"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryPreviewImageSelector_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageIds"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EditableStoryPreviewImage_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryPreviewImageSelector_draft"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublishStoryPreview_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryPreviewTitleAndSubtitle_draft"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EditableStoryPreviewImage_draft"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionForm_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublishStoryPreview_draft"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostResultError_postResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnavailableForLegalReasons"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UnavailableForLegalReasonsScreen_unavailableForLegalReasons"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WithheldInCountry"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WithheldInCountryScreen_withheldInCountry"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSubmissionContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionInputActions_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ConfirmSubmissionScreen_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionForm_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DraftResultError_draftResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DraftResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSubmissionContext_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionForm_draft"}}]}}]},P=i(40199),h=i(82284),w=i(10467),E=i(95420),_=i(90328),C=i(53424),x=i(86527),T=i(99731),I=i(36557),D=i(44402),O=i(91830),R=i(79959),A={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitPostToPublication"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"publicationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitToPublication"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"ObjectField",name:{kind:"Name",value:"publicationId"},value:{kind:"Variable",name:{kind:"Name",value:"publicationId"}}},{kind:"ObjectField",name:{kind:"Name",value:"description"},value:{kind:"StringValue",value:"",block:!1}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]},j=i(15795);function L(){var e=W(),n=e.m(L),i=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function t(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===i||"GeneratorFunction"===(n.displayName||n.name))}var a={throw:1,return:2,break:3,continue:3};function l(e){var n,i;return function(t){n||(n={stop:function(){return i(t.a,2)},catch:function(){return t.v},abrupt:function(e,n){return i(t.a,a[e],n)},delegateYield:function(e,a,l){return n.resultName=a,i(t.d,V(e),l)},finish:function(e){return i(t.f,e)}},i=function(e,i,a){t.p=n.prev,t.n=n.next;try{return e(i,a)}finally{n.next=t.n}}),n.resultName&&(n[n.resultName]=t.v,n.resultName=void 0),n.sent=t.v,n.next=t.n;try{return e.call(this,n)}finally{t.p=n.prev,t.n=n.next}}}return(L=function(){return{wrap:function(n,i,t,a){return e.w(l(n),i,t,a&&a.reverse())},isGeneratorFunction:t,mark:e.m,awrap:function(e,n){return new Z(e,n)},AsyncIterator:U,async:function(e,n,i,a,o){return(t(n)?B:G)(l(e),n,i,a,o)},keys:M,values:V}})()}function V(e){if(null!=e){var n=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],i=0;if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}throw new TypeError((0,h.A)(e)+" is not iterable")}function M(e){var n=Object(e),i=[];for(var t in n)i.unshift(t);return function e(){for(;i.length;)if((t=i.pop())in n)return e.value=t,e.done=!1,e;return e.done=!0,e}}function G(e,n,i,t,a){var l=B(e,n,i,t,a);return l.next().then((function(e){return e.done?e.value:l.next()}))}function B(e,n,i,t,a){return new U(W().w(e,n,i,t),a||Promise)}function U(e,n){function i(t,a,l,o){try{var d=e[t](a),r=d.value;return r instanceof Z?n.resolve(r.v).then((function(e){i("next",e,l,o)}),(function(e){i("throw",e,l,o)})):n.resolve(r).then((function(e){d.value=e,l(d)}),(function(e){return i("throw",e,l,o)}))}catch(e){o(e)}}var t;this.next||(Y(U.prototype),Y(U.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Y(this,"_invoke",(function(e,a,l){function o(){return new n((function(n,t){i(e,l,n,t)}))}return t=t?t.then(o,o):o()}),!0)}function W(){var e,n,i="function"==typeof Symbol?Symbol:{},t=i.iterator||"@@iterator",a=i.toStringTag||"@@toStringTag";function l(i,t,a,l){var r=t&&t.prototype instanceof d?t:d,m=Object.create(r.prototype);return Y(m,"_invoke",function(i,t,a){var l,d,r,m=0,u=a||[],s=!1,c={p:0,n:0,v:e,a:k,f:k.bind(e,4),d:function(n,i){return l=n,d=0,r=e,c.n=i,o}};function k(i,t){for(d=i,r=t,n=0;!s&&m&&!a&&n<u.length;n++){var a,l=u[n],k=c.p,v=l[2];i>3?(a=v===t)&&(r=l[(d=l[4])?5:(d=3,3)],l[4]=l[5]=e):l[0]<=k&&((a=i<2&&k<l[1])?(d=0,c.v=t,c.n=l[1]):k<v&&(a=i<3||l[0]>t||t>v)&&(l[4]=i,l[5]=t,c.n=v,d=0))}if(a||i>1)return o;throw s=!0,t}return function(a,u,v){if(m>1)throw TypeError("Generator is already running");for(s&&1===u&&k(u,v),d=u,r=v;(n=d<2?e:r)||!s;){l||(d?d<3?(d>1&&(c.n=-1),k(d,r)):c.n=r:c.v=r);try{if(m=2,l){if(d||(a="next"),n=l[a]){if(!(n=n.call(l,r)))throw TypeError("iterator result is not an object");if(!n.done)return n;r=n.value,d<2&&(d=0)}else 1===d&&(n=l.return)&&n.call(l),d<2&&(r=TypeError("The iterator does not provide a '"+a+"' method"),d=1);l=e}else if((n=(s=c.n<0)?r:i.call(t,c))!==o)break}catch(n){l=e,d=1,r=n}finally{m=1}}return{value:n,done:s}}}(i,a,l),!0),m}var o={};function d(){}function r(){}function m(){}n=Object.getPrototypeOf;var u=[][t]?n(n([][t]())):(Y(n={},t,(function(){return this})),n),s=m.prototype=d.prototype=Object.create(u);function c(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,Y(e,a,"GeneratorFunction")),e.prototype=Object.create(s),e}return r.prototype=m,Y(s,"constructor",m),Y(m,"constructor",r),r.displayName="GeneratorFunction",Y(m,a,"GeneratorFunction"),Y(s),Y(s,a,"Generator"),Y(s,t,(function(){return this})),Y(s,"toString",(function(){return"[object Generator]"})),(W=function(){return{w:l,m:c}})()}function Y(e,n,i,t){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Y=function(e,n,i,t){function l(n,i){Y(e,n,(function(e){return this._invoke(n,i,e)}))}n?a?a(e,n,{value:i,enumerable:!t,configurable:!t,writable:!t}):e[n]=i:(l("next",0),l("throw",1),l("return",2))},Y(e,n,i,t)}function Z(e,n){this.v=e,this.k=n}var z={display:"flex",flexDirection:"column",gap:"48px",justifyContent:"space-between",paddingTop:"32px",paddingBottom:"32px"},H=function(){var e,n,i,a=(0,D.l)(),o=(0,l.useState)(!1),d=(0,t.A)(o,2),r=d[0],m=d[1],u=(0,g.pE)("redirectUrl"),s=(0,l.useState)(!1),c=(0,t.A)(s,2),k=c[0],v=c[1],S=(0,j.G)(),f=function(){var e=(0,w.A)(L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G&&null!=M&&M.id){e.next=2;break}return e.abrupt("return",{success:!1,message:"No post or publication selected"});case 2:return e.prev=2,e.next=5,J({variables:{postId:G.id,publicationId:M.id},onCompleted:function(){v(!0),S("submission.postSubmitted"),(0,O.MZ)({message:"You have submitted your story to ".concat(null==M?void 0:M.name)}),u?window.location.href=u:!U||null!=G&&G.isPublished?Y(K,{replace:!0}):window.location.href=X},onError:function(e){var n="Something went wrong while submitting your story. Please try again.";throw e instanceof Error&&e.message.includes("asserting submission max cap")?n="You have reached the maximum number of active submissions for this publication.":e instanceof Error&&e.message.includes("user cannot create submission due to submission mode rules")?n="This publication is not accepting submissions for unapproved writers at this moment.":e instanceof Error&&e.message.includes("invalid post state")&&(n=e.message.split(", ").at(-1)||"Unknown error"),(0,O.MZ)({message:n}),new Error(n)}});case 5:return e.abrupt("return",{success:!0});case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{success:!1,message:e.t0 instanceof Error?e.t0.message:"Unknown error"});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),N=(0,l.useActionState)(f,{success:null}),y=(0,t.A)(N,3),F=y[0],P=y[1],h=y[2],V=(0,l.useContext)(we),M=V.selectedPublication,G=V.post,B=V.stepToPublicationScreen,U=V.isEditorOfSelectedPublication,W=V.isEditorOrWriterOfSelectedPublication,Y=(0,_.Zp)(),Z=(0,b.om)(),H=(0,b.au)(),K=(0,R.ST)(Z("ShowYourStoriesRedirect",{}),{tab:"submissions-outbox"}),X=H("ShowEditPost",{postId:(null==G?void 0:G.id)||""}),q=(0,E.n)(A),J=(0,t.A)(q,1)[0],Q=(null==M||null===(e=M.preferences)||void 0===e||null===(n=e.find((function(e){return"submission_guidelines_url"===e.name})))||void 0===n||null===(i=n.value)||void 0===i?void 0:i.value)||"",$=r||!Q||W,ee=!!Q&&!W;return(0,l.useEffect)((function(){S("submission.submissionConfirmationActions.viewed",{redirectUrl:u,submissionGuidelinesShown:ee})}),[]),l.createElement("form",{className:a(z),action:P},!1===F.success&&l.createElement(I.kZ,{scale:"M",color:"ERROR"},"Submission failed: ",F.message),ee&&l.createElement(p.a,{display:"flex",flexDirection:"column",gap:"16px",paddingTop:"24px",borderTop:"neutral.tertiary"},l.createElement(C.S,{checked:r,onChange:function(){m(!r),S("submission.guidelinesChecked")},required:!0},l.createElement(I.kZ,{scale:"M",color:"DARKER"},"My story follows the publication's"," ",l.createElement(x.N,{href:Q,target:"_blank",inline:!0,linkStyle:"OBVIOUS"},"submission guidelines"),"."))),l.createElement(p.a,{display:"flex",justifyContent:"flex-start",gap:"10px"},l.createElement(T.$n,{onClick:B,buttonStyle:"SUBTLE",type:"button",size:"SMALL"},"Back"),l.createElement(T.$n,{buttonStyle:"BRAND",type:"submit",disabled:!$||h||k,size:"SMALL"},h||k?"Submitting...":"Submit")))},K=function(){var e=(0,l.useContext)(we),n=e.selectedPublication,i=e.post,t=e.draft;return n&&i&&t?l.createElement(p.a,{marginTop:"104px",width:"100vw"},l.createElement(P.Z,{post:i,draft:t,publication:n,isPubSubmission:!0},l.createElement(H,null))):null},X=i(10531),q=i(55127),J=i.n(q),Q=i(79501),$=i(90383),ee=function(e){var n,i,t,a,o,d,r=e.publication,m=null===(n=r.theme)||void 0===n||null===(i=n.accentColor)||void 0===i?void 0:i.rgb,u=null===(t=r.theme)||void 0===t?void 0:t.backgroundImage,s=(0,D.l)();if(null!=u&&u.id){var c=u.id,k=u.alt,v=(o=u.focusPercentX,d=u.focusPercentY,{width:"100%",aspectRatio:"8",objectFit:"cover",objectPosition:"".concat((0,$.Gw)(o),"% ").concat((0,$.Gw)(d),"%"),borderTopLeftRadius:"3px",borderTopRightRadius:"3px"});return l.createElement(Q.t,{miroId:c,strategy:$.qY.Resample,alt:k||"Publication header background image",webp:!0,height:40,rules:v})}return l.createElement("div",{className:s((a=m,function(e){return{flexGrow:1,flexShrink:0,borderBottom:a&&"#FFFFFF"!==a?"none":"1px solid ".concat(e.colorTokens.border.neutral.tertiary.base),backgroundColor:a||"transparent",borderTopLeftRadius:"3px",borderTopRightRadius:"3px"}}))})},ne=i(23835),ie=i(42136),te=i(56942),ae=i(27715),le=function(e){var n,i,t=e.publication,a=e.disableSelection,o=void 0!==a&&a,d=e.isTruncated,r=void 0!==d&&d,m=e.minWidth,u=(0,l.useContext)(we),s=u.selectedPublication,c=u.setSelectedPublication,k=u.post,v=u.stepToConfirmScreen,S=(0,D.l)(),N=(0,b.au)()("ShowCollectionMasthead",{collectionSlug:t.slug}),g=(0,j.G)(),y=(0,f.jI)(),F=t.followGraph,P=t.preferences,h=(null==F?void 0:F.followerCount)||0,w="".concat((0,ae.Ct)(h)," ").concat(J()("follower",h)),E=null==P||null===(n=P.find((function(e){return"submission_guidelines_url"===e.name})))||void 0===n||null===(i=n.value)||void 0===i?void 0:i.value,_=(null==s?void 0:s.id)===t.id,C=(0,l.useCallback)((function(){c(t),g("submission.publicationSelected"),v()}),[t.id,null==k?void 0:k.id,g,y]);return l.createElement("button",{key:t.id,onClick:C,className:S((function(e){return{display:"flex",flexDirection:"column",border:"1px solid",borderColor:_&&!o?e.colorTokens.border.neutral.secondary.base:e.colorTokens.border.neutral.tertiary.base,borderRadius:"4px",padding:0,cursor:o?"default":"pointer",minWidth:m,width:"100%"}})),type:"button",disabled:o,"aria-pressed":_},!r&&l.createElement(p.a,{height:"40px",width:"100%",overflow:"hidden",display:"flex",flexDirection:"column",flexShrink:"0"},l.createElement(ee,{publication:t})),l.createElement(p.a,{padding:"16px 24px",display:"flex",gap:"12px",flexDirection:"column"},l.createElement(p.a,{display:"flex",gap:"12px"},l.createElement(ne.m,{publication:t,scale:"S"}),l.createElement(p.a,{textAlign:"left",display:"flex",flexDirection:"column",justifyContent:"center"},l.createElement(te.DZ,{scale:"XS",clamp:2},t.name))),l.createElement(p.a,{textAlign:"left"},l.createElement(I.kZ,{scale:"M",clamp:2,color:"DARKER"},t.description)),!r&&l.createElement(ie.z,{middotPadding:"8px",display:"flex"},F&&l.createElement(I.kZ,{scale:"S",color:"LIGHTER"},l.createElement(x.N,{href:N,linkStyle:"SUBTLE",target:"_blank",inline:!0},w)),!!E&&l.createElement(I.kZ,{scale:"S",color:"LIGHTER"},l.createElement(x.N,{href:E,linkStyle:"SUBTLE",target:"_blank",inline:!0},"View guidelines")))))},oe={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)"},gap:"".concat(20,"px"),width:"100%"},de=function(){return l.createElement(p.a,{height:"".concat(220,"px"),width:"100%",backgroundColor:"BASE_NORMAL",borderRadius:"8px",display:"flex",flexDirection:"column",padding:"16px"})},re=function(){return l.createElement(p.a,{display:"flex",flexDirection:"column",gap:"32px",marginBottom:"20px"},l.createElement(p.a,{display:"flex",flexDirection:"column",gap:"10px"},l.createElement(p.a,{width:"100%",height:"30px",backgroundColor:"BASE_NORMAL"}),l.createElement(p.a,{width:"100%",height:"30px",backgroundColor:"BASE_NORMAL"})),l.createElement(p.a,{width:"33%",height:"30px",backgroundColor:"BASE_NORMAL"}))},me=function(){return l.createElement(X.H,{numPlaceholders:1},l.createElement(de,null))},ue=function(e){var n=e.numRows,i=void 0===n?1:n,t=(0,D.l)(),a=4*i;return l.createElement(p.a,null,l.createElement(X.H,{numPlaceholders:1},l.createElement(re,null)),l.createElement("div",{className:t(oe)},Array.from({length:a},(function(e,n){return l.createElement(me,{key:"loading-placeholder-".concat(n)})}))))},se=function(e){var n=e.publications,i=(0,D.l)();return l.createElement("div",{className:i(oe)},n.map((function(e){return l.createElement(le,{key:"submission-pub-preview-".concat(e.id),publication:e})})))},ce=i(26947),ke=i(39160),ve=i(46879),pe=function(e){var n=e.emptyStateMessageToShow;return l.createElement(p.a,{textAlign:"center",minHeight:"200px",display:"flex",flexDirection:"column",gap:"16px",justifyContent:"center"},l.createElement(I.kZ,{scale:"M",color:"DARKER"},n),l.createElement(x.N,{href:"https://medium.com/@MediumStaff/list/mediums-huge-list-of-publications-accepting-submissions-7c0ec8037e61",target:"_blank",linkStyle:"OBVIOUS",inline:!0},l.createElement(I.kZ,{scale:"M",color:"DARKER"},"Explore our list of publications currently accepting submissions")))},Se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WriterOutboxPublicationsYouFollowQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"followedEntitiesConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"orderBy"},value:{kind:"StringValue",value:"lastPublishedAt desc",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"filterType"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PUBLICATION"}]}},{kind:"ObjectField",name:{kind:"Name",value:"filterCanSubmit"},value:{kind:"BooleanValue",value:!0}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionPublicationPreviewCard_publication"}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionPostPreviewBanner_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"theme"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accentColor"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rgb"}}]}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionForm_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSubmissionContext_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerStaffRole"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionForm_publication"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionPublicationPreviewCard_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"followGraph"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followerCount"}}]}},{kind:"Field",name:{kind:"Name",value:"preferences"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"value"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StringPreferenceValue"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionPostPreviewBanner_publication"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSubmissionContext_publication"}}]}}]},fe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WriterOutboxPublicationsYouWriteFor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"writerAndAdminCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"compatV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useValidPublications_publication"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionPostPreviewBanner_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"theme"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accentColor"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rgb"}}]}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionForm_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSubmissionContext_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerStaffRole"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionForm_publication"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionPublicationPreviewCard_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"followGraph"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followerCount"}}]}},{kind:"Field",name:{kind:"Name",value:"preferences"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"value"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StringPreferenceValue"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionPostPreviewBanner_publication"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSubmissionContext_publication"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"useValidPublications_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"userEdge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"canSubmit"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionPublicationPreviewCard_publication"}}]}}]},Ne=i(95107),be=function(e){var n=e.children;return l.createElement(p.a,{display:"flex",flexDirection:"column",gap:"10px",textAlign:"center",width:"100%",alignItems:"center"},n)},ge=function(e){var n=e.children;return l.createElement(Ne.mz,{scale:"L"},n)},ye=function(e){var n=e.children;return l.createElement(I.kZ,{scale:"M",color:"LIGHTER"},n)},Fe={display:"flex",gap:"".concat(20,"px"),overflow:"scroll",paddingBottom:"".concat(48,"px"),scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},Pe=function(){var e,n,i,o,d,r=(0,D.l)(),m=(0,ke.d4)((function(e){return e.config.authDomain})),u=(0,l.useState)("following"),s=(0,t.A)(u,2),k=s[0],v=s[1],S=(e=(0,c.R)().value,n=(0,a.IT)(Se,{variables:{first:32,after:""}}),i=(0,a.IT)(fe,{variables:{userId:(null==e?void 0:e.id)||""}}),o=(0,l.useMemo)((function(){var e,n,t;return(null===(e=i.data)||void 0===e||null===(n=e.viewer)||void 0===n||null===(t=n.writerAndAdminCollections)||void 0===t?void 0:t.map((function(e){return e.compatV3})))||[]}),[n]),{openFollowedPublications:d=(0,l.useMemo)((function(){var e,i,t,a;return((null===(e=n.data)||void 0===e||null===(i=e.viewer)||void 0===i||null===(t=i.viewerEdge)||void 0===t||null===(a=t.followedEntitiesConnection)||void 0===a?void 0:a.edges.map((function(e){return e.node.entity})))||[]).filter((function(e){return null!==e&&"Publication"===e.__typename}))}),[n]),openStaffPublications:(0,l.useMemo)((function(){return o.filter((function(e){var n;return null!==e&&"Publication"===e.__typename&&(null===(n=e.userEdge)||void 0===n?void 0:n.canSubmit)})).map((function(e){return e}))}),[o]),hasSomeStaffPublications:o.length>0,hasSomeFollowedPublications:d.length>0,loadingPublications:n.loading||i.loading}),f=S.openFollowedPublications,N=S.openStaffPublications,b=S.hasSomeStaffPublications,g=S.hasSomeFollowedPublications,y=S.loadingPublications,F=[{text:"Contributing",onClick:function(){return v("contributing")},isActive:"contributing"===k},{text:"Following",onClick:function(){return v("following")},isActive:"following"===k}],P="following"===k?f:N,h=0===P.length,w=(0,j.G)();(0,l.useEffect)((function(){b&&v("contributing")}),[b]),(0,l.useEffect)((function(){w("submission.publicationSelectionScreen.viewed",{numberOfPublicationsShown:f.length+N.length})}),[]);var E=(0,l.useMemo)((function(){if(h)return"following"===k?"You don't follow any open publications.":"You don't contribute to any open publications."}),[k,h]);if(!b&&!g&&!y)return l.createElement(p.a,{display:"flex",height:"calc(100vh - 64px)",maxWidth:"700px",justifyContent:"center",alignItems:"center",textAlign:"center"},l.createElement(I.kZ,{scale:"L",color:"DARKER"},"Medium publications are shared spaces for stories written around a common theme or topic, usually by multiple writers. You can submit to any publication you follow, as long as it's currently accepting stories. ",l.createElement("br",null),l.createElement("br",null),"Follow a publication to unlock submissions."," ",l.createElement(x.N,{href:(0,ve.rJ9)(m),inline:!0,linkStyle:"OBVIOUS"},"Explore our recommended list")," ","to get started."));var _=(h||!P)&&!y;return l.createElement(p.a,{display:"flex",flexDirection:"column",gap:"32px",width:"100%"},l.createElement(be,null,l.createElement(ge,null,"Submit to a publication"),l.createElement(p.a,{maxWidth:"694px"},l.createElement(ye,null,"Medium publications are shared spaces for stories written around a common theme or topic, usually by multiple writers. You can submit to any publication you follow, as long as it's currently accepting stories."," ",l.createElement(x.N,{href:ve.TZX,target:"_blank",linkStyle:"OBVIOUS",inline:!0},"Learn more")))),b&&l.createElement(p.a,{marginTop:"16px"},l.createElement(ce.F,{items:F,centered:!0})),_?l.createElement(pe,{emptyStateMessageToShow:null!=E?E:""}):y?l.createElement(p.a,{display:"flex",flexDirection:"column",gap:"32px",width:"100%"},l.createElement(ue,{numRows:1})):l.createElement("div",{className:r(Fe)},l.createElement(se,{publications:P})))},he=function(e){var n=e.children;return l.createElement(f.Ne,{source:{name:"submission"}},n)},we=(0,l.createContext)({selectedPublication:null,setSelectedPublication:function(){return null},post:null,draft:null,stepToConfirmScreen:function(){return null},stepToPublicationScreen:function(){return null},isEditorOfSelectedPublication:!1,isEditorOrWriterOfSelectedPublication:!1}),Ee=function(e){var n=(0,N.U)(),i=!!(0,s._P)("enable_submissions_v2"),t=(0,c.R)(),l=t.loading,o=t.value,d=e.postId||"",r=(0,a.IT)(F,{variables:{postId:d},skip:!(null!=o&&o.id&&d&&i),onError:function(t){n.error({message:"PostSubmission: GraphQL query failed",paramsPostId:e.postId,postId:d,viewerId:null==o?void 0:o.id,enableSubmissionsV2:i,error:t.message,draftResult:p,postResult:k})}}),m=r.data,u=(m=void 0===m?{}:m).postResult,k=void 0===u?null:u,v=m.draftResult,p=void 0===v?null:v,S=r.loading,f=r.error;return{postResult:k,draftResult:p,viewer:o,loading:l||S,error:f,enableSubmissionsV2:i}},_e=function(e){var n,i,a,s=e.params,c=e.postResult,f=e.draftResult,F=e.viewer,P=e.loading,h=e.error,w=e.enableSubmissionsV2,E=(0,N.U)(),_=(0,l.useState)(null),C=(0,t.A)(_,2),x=C[0],T=C[1],I=(0,l.useState)("PUBLICATION_SELECTION"),D=(0,t.A)(I,2),O=D[0],R=D[1],A=(0,b.om)()("ShowYourStoriesRedirect",{tab:"submissions-outbox"}),L=(0,g.pE)("redirectUrl")||A,V=(0,y.t)(c)&&(null===(n=c.creator)||void 0===n?void 0:n.id)!==(null==F?void 0:F.id),M=(0,j.G)();if((0,l.useEffect)((function(){M("submission.submissionStarted.viewed")}),[]),P)return l.createElement(r.x,null);if(!F)return l.createElement(k.W,null);if(h)return l.createElement(o.z,{error:h});if(!s.postId||!w||V)return E.warn({message:"PostSubmission: Rendering 404 - failed validation checks",postId:s.postId,viewerId:null==F?void 0:F.id,flagValue:w,isPost:(0,y.t)(c),postCreatorId:(0,y.t)(c)?null===(a=c.creator)||void 0===a?void 0:a.id:null,viewerIsNotPostCreator:V}),l.createElement(d.u,null);if((0,m.X)(f))return l.createElement(m.f,{draftResult:f,postId:s.postId});if((0,u.M)(c))return l.createElement(u.a,{postResult:c});var G=null==x||null===(i=x.viewerEdge)||void 0===i?void 0:i.viewerStaffRole,B="EDITOR"===G||"OWNER"===G,U={selectedPublication:x,setSelectedPublication:T,post:c,draft:f,stepToConfirmScreen:function(){R("CONFIRM_SUBMISSION")},stepToPublicationScreen:function(){R("PUBLICATION_SELECTION")},isEditorOfSelectedPublication:B,isEditorOrWriterOfSelectedPublication:B||"WRITER"===G};return l.createElement(he,null,l.createElement(v.P,{size:"outset"},l.createElement(we.Provider,{value:U},l.createElement(p.a,{maxWidth:"1440px",width:"100%",display:"flex",justifyContent:"center",paddingTop:"".concat(64,"px"),position:"relative"},l.createElement(S.J,{href:L,absoluteOffsetTop:"".concat(64,"px"),size:"REGULAR"}),"PUBLICATION_SELECTION"===O&&l.createElement(Pe,null),"CONFIRM_SUBMISSION"===O&&l.createElement(K,null)))))}},15795:(e,n,i)=>{i.d(n,{G:()=>m});var t=i(64467),a=i(96540),l=i(34317),o=i(49287),d=i(87265);function r(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}var m=function(){var e=(0,l.$L)(),n=(0,o.jI)(),i=(0,a.useContext)(d.PostSubmissionContext),m=i.post,u=i.selectedPublication;return function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.event(i,function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(n){(0,t.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({postId:null==m?void 0:m.id,collectionId:null==u?void 0:u.id,source:n},a))}}},91586:(e,n,i)=>{i.d(n,{U:()=>m});var t=i(64467),a=i(96540),l=i(39160),o=i(47517);function d(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function r(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?d(Object(i),!0).forEach((function(n){(0,t.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var m=function(){var e=(0,a.useRef)(new Set).current,n=(0,l.d4)((function(e){return e.client.hydrated})),i=(0,a.useCallback)((function(i,t,a){var l=function(e,n,i){return JSON.stringify(r({logFnName:e},"string"==typeof n?{message:n}:r(r({},n),{},{message:i})))}(i,t,a);n&&!e.has(l)&&(function(e,n,i){"string"==typeof n?o.vF[e](n):o.vF[e](n,i)}(i,t,a),e.add(l))}),[n,e]);return r(r({},o.vF),{},{debugClientOnce:(0,a.useCallback)((function(e,n){i("debug",e,n)}),[i]),infoClientOnce:(0,a.useCallback)((function(e,n){i("info",e,n)}),[i]),warnClientOnce:(0,a.useCallback)((function(e,n){i("warn",e,n)}),[i]),errorClientOnce:(0,a.useCallback)((function(e,n){i("error",e,n)}),[i])})}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3507.8b27b9e8.chunk.js.map