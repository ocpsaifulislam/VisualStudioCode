"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1214],{93694:(e,a,n)=>{n.d(a,{Kb:()=>o,Lk:()=>l,y2:()=>d});var i=n(96540),t=n(27049);function d(e){return i.useMemo((function(){return Object.keys(e).reduce((function(a,n){var i=e[n];return a[i]&&a[i].push(n),a}),{S:[],M:[],L:[]})}),[e])}function l(e,a){return{xs:e[a.xs],sm:e[a.sm],md:e[a.md],lg:e[a.lg],xl:e[a.xl]}}function o(e){var a={};for(var n in t.i)a[n]=e;return a}},6054:(e,a,n)=>{n.d(a,{e:()=>b});var i=n(96540),t=n(77865),d=n(90280),l=n(52290),o=n(90383),r=n(49118),c=n(93694);function u(e,a){return e.includes(a)?"block":"none"}function s(e){return e?Math.round(e):e}var f=function(e,a,n,i,t){return function(l){var o,r,c=null!==(o=s(a))&&void 0!==o?o:50,u=null!==(r=s(n))&&void 0!==r?r:50,f="string"==typeof e?d.au[e]:{xs:d.au[e.xs],sm:d.au[e.sm],md:d.au[e.md],lg:d.au[e.lg],xl:d.au[e.xl]};return{width:"100%",borderRadius:t?"2px":void 0,aspectRatio:i?void 0:f,objectFit:"cover",objectPosition:"".concat(c,"% ").concat(u,"%"),backgroundColor:l.colorTokens.background.neutral.tertiary.base,height:i}}};function b(e){var a=e.post,n=e.scales,s=e.aspectRatio,b=void 0===s?d.l8.ThreeToTwo:s,m=e.miroImgFetchedWidth,v=e.webp,k=e.freezeGifs,y=void 0!==k&&k,p=e.imgLoading,g=void 0===p?t.u.LAZY:p,P=e.height,w=e.hasBorderRadius,S=(0,c.y2)(n),h=a.previewImage,N=a.title,_=(0,r.w)(a),F=(0,o.rP)({miroId:_,width:m,strategy:o.qY.Resample,freezeGifs:y,webp:!!v}),A=(null==h?void 0:h.alt)||N||"",I=f(b,null==h?void 0:h.focusPercentX,null==h?void 0:h.focusPercentY,P,w);return i.createElement("div",{"aria-label":A||"Post Preview Image"},Object.keys(S).map((function(e){var a=S[e];return a.length?i.createElement(l.a,{display:{xs:u(a,"xs"),sm:u(a,"sm"),md:u(a,"md"),lg:u(a,"lg"),xl:u(a,"xl")},key:"grid-image-".concat(e)},i.createElement(t._,{src:F,alt:A,rules:I,loading:g})):null})))}},49118:(e,a,n)=>{function i(e,a){(null==a||a>e.length)&&(a=e.length);for(var n=0,i=Array(a);n<a;n++)i[n]=e[n];return i}n.d(a,{w:()=>d});var t=["0ab714002e199418d55d87487144d5e179db39b122aab2b2d49f24985a2e3268","91b4cb73a944e1d27d5b9c057d310030c6cc236b371df86464ea194b87159845","110c09ba4444e338d29ed74adb04b0bf053357845c57c64219ba0655d653a4cd","319daec016b12da748373d51bd9d27c727580bba9947096fe89b8e2efb8e03a6","56439e068a17200d733d148d8933d55501ac9dcc329a6f86272aeffc8ceb50a8","eca3d3b5fb936ab346077b194b08a6b17f33c89eb76924469d110fa41d232cd3","8e14c4381c6099d3ecf0f402666d596f5a6456be8a58343bf4d85acc567ba803","253d1ac7271c0a7cc8f41cd8f9de7fb7148297ef9c17b11e085fd6559557c22b","c8790a6ac4cec21263a79305da5e27032b2811c3bb5ebcbf60bd0ade41026a5c","50814f8da5bf3f0ecc414d5eeed8d40c98aa4a8f5a133d5030317044aa59e3b2","7280ed8cf2fe1568aa4891c4276068a914da03949aa4a328b4fd77614007fdbb","9aee695f83669503f97d9ca29d89942a49664c4fc27bb4f2faa3638390ceff5c","0d702cbfe9920e00e94464660874e97b36b08e18a7844ad35d0d5cd2de2ef897","a8ce0cea4b9fef8a54ce3f0bb96f7de702490ca0eded890b5bee29316727e477","ab32eb8461142e4884d537415df41ea7072e7447c63d9235e135dc2b6dfb3a94","bed282702cab068e73fed54f4f2476879d8beed14768d4a3cb7cf4d5e0cabebe","5f1f586cc41943becdefc4cf716f5e4d75f28bf980a0168ac5279df3fcf6dd00","bb187a1ebc430cb35e482a9757f2d15e8c83f5f7c5fab166e9004ce841008094","3b073f7105bcb0070d5bd9098b373c2a23f26adebfa1e78a98950176da972768","86f133e4424c43290199ce3727b65dccd9b29f2f1e6c8257a6abb6d021f45020"];function d(e){var a;if(null!==(a=e.previewImage)&&void 0!==a&&a.id)return e.previewImage.id;var n=function(e){var a,n=0,t=function(e,a){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,a){if(e){if("string"==typeof e)return i(e,a);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,a):void 0}}(e))||a&&e&&"number"==typeof e.length){n&&(e=n);var t=0,d=function(){};return{s:d,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:d}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){r=!0,l=e},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw l}}}}(e);try{for(t.s();!(a=t.n()).done;)n=(n<<5)-n+a.value.charCodeAt(0),n|=0}catch(e){t.e(e)}finally{t.f()}return Math.abs(n)}(e.id);return t[n%t.length]}},80876:(e,a,n)=>{n.d(a,{i:()=>r});var i=n(5544),t=n(95420),d=n(96540),l=n(91830),o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePostPaywall"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasPaywall"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setPostMonetizationSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"ObjectField",name:{kind:"Name",value:"hasPaywall"},value:{kind:"Variable",name:{kind:"Name",value:"hasPaywall"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpdatePostPaywall_post"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UpdatePostPaywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}}]}}]},r=function(e){var a=e.postId,n=e.isPaywalled,r=e.showToast,c=void 0===r||r,u=(0,l.zF)(),s=(0,d.useCallback)((function(){return u({message:d.createElement(d.Fragment,null,"There was an error ",n?"removing":"adding"," the paywall. Please try again later."),toastStyle:"ERROR"})}),[u,n]),f=function(e,n){e.modify({id:e.identify({__typename:"Post",id:a}),fields:{isLocked:function(){return n}}})},b=function(e,a){c&&u({message:e?"Paywall added.":"Paywall removed.",extraParams:{hideCloseButton:!0,onClickUndo:function(){a()}}})},m=(0,t.n)(o,{variables:{postId:a,hasPaywall:!0},update:function(e,a){var n,i=a.data;"Post"===(null==i||null===(n=i.setPostMonetizationSettings)||void 0===n?void 0:n.__typename)&&f(e,!0)},onCompleted:function(e){var a;"Post"===(null==e||null===(a=e.setPostMonetizationSettings)||void 0===a?void 0:a.__typename)?b(!0,P):s()},onError:s}),v=(0,i.A)(m,2),k=v[0],y=v[1].loading,p=(0,t.n)(o,{variables:{postId:a,hasPaywall:!1},update:function(e,a){var n,i=a.data;"Post"===(null==i||null===(n=i.setPostMonetizationSettings)||void 0===n?void 0:n.__typename)&&f(e,!1)},onCompleted:function(e){var a;"Post"===(null==e||null===(a=e.setPostMonetizationSettings)||void 0===a?void 0:a.__typename)?b(!1,k):s()},onError:s}),g=(0,i.A)(p,2),P=g[0],w=g[1].loading;return{addPaywall:k,removePaywall:P,updatingPaywall:y||w}}},47016:(e,a,n)=>{n.d(a,{G:()=>d});var i=n(95964),t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"useViewerCanPaywallQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"partnerProgramEnrollment"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"permissions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canUsePaywall"}}]}}]}}]}}]}}]},d=function(){var e,a,n,d=(0,i.IT)(t),l=d.data,o=d.loading;return{canUsePaywall:null==l||null===(e=l.viewer)||void 0===e||null===(a=e.partnerProgramEnrollment)||void 0===a||null===(n=a.permissions)||void 0===n?void 0:n.canUsePaywall,loading:o}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/1214.9ae8faaf.chunk.js.map