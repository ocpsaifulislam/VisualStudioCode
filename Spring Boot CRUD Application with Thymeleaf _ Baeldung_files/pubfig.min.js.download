(()=>{var qr=Object.create;var at=Object.defineProperty,Yr=Object.defineProperties,Kr=Object.getOwnPropertyDescriptor,$r=Object.getOwnPropertyDescriptors,zr=Object.getOwnPropertyNames,Lt=Object.getOwnPropertySymbols,Wr=Object.getPrototypeOf,Mt=Object.prototype.hasOwnProperty,Qr=Object.prototype.propertyIsEnumerable;var nt=(t,e,r)=>e in t?at(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,N=(t,e)=>{for(var r in e||(e={}))Mt.call(e,r)&&nt(t,r,e[r]);if(Lt)for(var r of Lt(e))Qr.call(e,r)&&nt(t,r,e[r]);return t},Y=(t,e)=>Yr(t,$r(e));var Jr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Xr=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of zr(e))!Mt.call(t,o)&&o!==r&&at(t,o,{get:()=>e[o],enumerable:!(i=Kr(e,o))||i.enumerable});return t};var Zr=(t,e,r)=>(r=t!=null?qr(Wr(t)):{},Xr(e||!t||!t.__esModule?at(r,"default",{value:t,enumerable:!0}):r,t));var K=(t,e,r)=>(nt(t,typeof e!="symbol"?e+"":e,r),r);var I=(t,e,r)=>new Promise((i,o)=>{var d=u=>{try{p(r.next(u))}catch(g){o(g)}},n=u=>{try{p(r.throw(u))}catch(g){o(g)}},p=u=>u.done?i(u.value):Promise.resolve(u.value).then(d,n);p((r=r.apply(t,e)).next())});var rr=Jr((uo,tr)=>{"use strict";var si=function(e){return ni(e)&&!ai(e)};function ni(t){return!!t&&typeof t=="object"}function ai(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||li(t)}var ci=typeof Symbol=="function"&&Symbol.for,fi=ci?Symbol.for("react.element"):60103;function li(t){return t.$$typeof===fi}function di(t){return Array.isArray(t)?[]:{}}function ge(t,e){return e.clone!==!1&&e.isMergeableObject(t)?ie(di(t),t,e):t}function ui(t,e,r){return t.concat(e).map(function(i){return ge(i,r)})}function pi(t,e){if(!e.customMerge)return ie;var r=e.customMerge(t);return typeof r=="function"?r:ie}function mi(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function Zt(t){return Object.keys(t).concat(mi(t))}function er(t,e){try{return e in t}catch(r){return!1}}function gi(t,e){return er(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function hi(t,e,r){var i={};return r.isMergeableObject(t)&&Zt(t).forEach(function(o){i[o]=ge(t[o],r)}),Zt(e).forEach(function(o){gi(t,o)||(er(t,o)&&r.isMergeableObject(e[o])?i[o]=pi(o,r)(t[o],e[o],r):i[o]=ge(e[o],r))}),i}function ie(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||ui,r.isMergeableObject=r.isMergeableObject||si,r.cloneUnlessOtherwiseSpecified=ge;var i=Array.isArray(e),o=Array.isArray(t),d=i===o;return d?i?r.arrayMerge(t,e,r):hi(t,e,r):ge(e,r)}ie.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,o){return ie(i,o,r)},{})};var bi=ie;tr.exports=bi});var Z={pubfigEngineLoadInit:"pubfig-engine-load-init",pubfigEngineSetupStart:"pubfig-engine-setup-start",pubfigEngineLoad:"pubfig-engine-load",pubfigSlotRequested:"pubfig-slotRequested",pubfigStickyFooterSlotRequested:"pubfig-sticky-footer-slotRequested",pubfigSlotRenderEnded:"pubfig-slotRenderEnded",pubfigEngineSetupEnd:"pubfig-engine-setup-end",pubfigStickyFooterSlotRenderEnded:"pubfig-sticky-footer-slotRenderEnded",pubfigPrebidFsRequestBids:"pubfig-prebid-fsRequestBids",pubfigPrebidAuctionInit:"pubfig-prebid-auctionInit",pubfigPrebidAuctionEnd:"pubfig-prebid-auctionEnd",pubfigLoaded:"pubfig-loaded",pubfigInitRequestStart:"pubfig-init-request-start",pubfigInitRequestEnd:"pubfig-init-request-end"};var _=(t,e=window)=>{var i,o;return(o=new URLSearchParams((i=e.location)==null?void 0:i.search).get(t))!=null?o:""},Ut=(t,e=window)=>new URLSearchParams(e.location.search).has(t);function Ft(t){let{name:e,detail:r}=t,i=new CustomEvent(e,{detail:r});window.dispatchEvent(i)}var Bt="customEvent",Gt={IMMEDIATE:"immediate",MAIN:"main",BEACON:"beacon",ERROR:"error"};var Pe=class{constructor(e,r){K(this,"type","default");this._payload=this._buildPayload(e),this._topic=r}get payload(){return this._payload}get topic(){return this._topic||Gt.MAIN}setTopic(e){this._topic=e}setType(e){this.type=e}_buildPayload(e){return e||{}}};var F=class extends Pe{constructor(){super(...arguments);K(this,"type",Bt)}_buildPayload(r){let{eventType:i,data:o,eventName:d}=r;return{eventType:i,eventName:d,jsonValue:JSON.stringify(o)}}};function ct({type:t="div",classList:e=[],id:r=!1,src:i=!1,name:o=!1,attributes:d=[],children:n=[],style:p={},innerHTML:u,textContent:g},S=document){let b=S.createElement(t);return e.length&&(b.className=e.join(" ")),i&&(b.src=i),r&&(b.id=r),o&&b.setAttribute("name",o),Array.isArray(d)?d.forEach(P=>{Object.entries(P).forEach(([q,xe])=>{b.setAttribute(q,xe)})}):Object.entries(d).forEach(([P,q])=>{b.setAttribute(P,q)}),Object.keys(p).length&&ei(b,p),u&&(b.innerHTML=u),g&&(b.textContent=g),n.length&&n.forEach(P=>{P&&b.appendChild(P)}),b}var ei=(t,e)=>(t&&Object.entries(e).forEach(([r,i])=>{t.style[r]=i}),t);function ti(t,e,r=null,i,o=!0,d=!0,n){try{let p=ct({type:"script"});t&&(p.src=t),d&&p.setAttribute("data-owner","freestar"),i&&(p.textContent=i),r&&(p.id=r),o&&(p.async=o),p.type="text/javascript",e&&p.addEventListener("load",e,{once:!0}),n&&p.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(p)}catch(p){}}var Vt=(t,e=null,r)=>new Promise((i,o)=>{ti(t,i,e,r,!0,!0,o)});function B(t){Math.random()<.01&&freestar.analyticsQueue.push(new F({eventName:"PUBFIG_NOT_LOADED",eventType:t||"",data:{domain:window.location.hostname}}))}function Re(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)t[i]=r[i]}return t}var ri={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function ft(t,e){function r(o,d,n){if(typeof document!="undefined"){n=Re({},e,n),typeof n.expires=="number"&&(n.expires=new Date(Date.now()+n.expires*864e5)),n.expires&&(n.expires=n.expires.toUTCString()),o=encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var p="";for(var u in n)n[u]&&(p+="; "+u,n[u]!==!0&&(p+="="+n[u].split(";")[0]));return document.cookie=o+"="+t.write(d,o)+p}}function i(o){if(!(typeof document=="undefined"||arguments.length&&!o)){for(var d=document.cookie?document.cookie.split("; "):[],n={},p=0;p<d.length;p++){var u=d[p].split("="),g=u.slice(1).join("=");try{var S=decodeURIComponent(u[0]);if(n[S]=t.read(g,S),o===S)break}catch(b){}}return o?n[o]:n}}return Object.create({set:r,get:i,remove:function(o,d){r(o,"",Re({},d,{expires:-1}))},withAttributes:function(o){return ft(this.converter,Re({},this.attributes,o))},withConverter:function(o){return ft(Re({},this.converter,o),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var ii=ft(ri,{path:"/"});var pe="undefined",$={playwrightTestsScriptId:"fs-playwright-tests-script",abTestsScriptId:"fs-ab-tests-script",fsAltConfigScriptId:"fsaltconfig",qaScriptId:"fs-qa"},G={fsLoadPubfigVersion:"fsLoadPubfigVersion",fsaltconfig:"fsaltconfig",fsdebug:"fsdebug"};var Ne=_(G.fsdebug),lt=[];Ne&&Ne!=="true"&&!Number.isInteger(+Ne)&&(lt=Ne.split(",").map(t=>t.toUpperCase()));var oi=()=>{if(typeof freestar.debug=="number")return freestar.debug;let t=_("fslog");if(t==="true")return 99;if(t!==""&&Number.isFinite(+t))return+t},jt=(t,...e)=>{let r="Pubfig",i="background: #00C389; color: #fff; border-radius: 3px; padding: 3px";typeof t=="object"&&(r=t.title?t.title:r,i=t.styles?t.styles:i,t=typeof t.level!="undefined"?t.level:1),!(_("fs-log-filter")&&r!==_("fs-log-filter"))&&(oi()>=t&&lt.length===0||lt.includes(r.toUpperCase()))&&console.info(`%c${r}: `,i,...e)};var Ce="https://d.pub.network",Ht="https://c.pub.network",qt="6.134.4",Yt="39df23cd42c74483978379f05e9598ea54cd411f",Kt="&configId=NUMBER",$t="&debug=true",zt="&testId=TEST_ID",Wt="&variantId=VARIANT_ID",Qt="fs.abtest.group",me="fs.abtest.id",Jt="fs.abtest.type",dt="fs.abtest.variant_type",Xt="fs.abtest.pubfig_location",ut="fs.config";var or=Zr(rr());var pt={videoAdhesion:{prettyName:"Sticky Footer Video Adhesion",disabled:!1},stickyFooter:{prettyName:"Sticky Footer",disabled:!1,refreshDisabled:!1,refreshInterval:0},video:{prettyName:"Video",disabled:!1,refreshDisabled:!1,refreshInterval:0},standAloneVideo:{prettyName:"Stand Alone Video",disabled:!1,refreshDisabled:!1,refreshInterval:0},revolvingRail:{prettyName:"Revolving Rail",disabled:!1,refreshDisabled:!1,refreshInterval:0},pushdown:{prettyName:"Pushdown",disabled:!1,refreshDisabled:!1,refreshInterval:0},dynamicAds:{prettyName:"Dynamic Ads",disabled:!1,refreshDisabled:!1,refreshInterval:0,optionsPath:"dynamicAdOptions"},dynamicAdsV2:{prettyName:"Dynamic Ads V2",disabled:!1,refreshDisabled:!1,refreshInterval:0,optionsPath:"dynamicAdOptionsV2"},footerBidding:{prettyName:"Footer Bidding",disabled:!1,refreshDisabled:!1,refreshInterval:0},superflex:{prettyName:"Superflex",disabled:!1,refreshDisabled:!1,refreshInterval:0},slidingUnit:{prettyName:"Sliding Unit",disabled:!1,refreshDisabled:!1,refreshInterval:0},sideWall:{prettyName:"Sidewall",disabled:!1,refreshDisabled:!1,refreshInterval:0},pageGrabber:{prettyName:"Page Grabber",disabled:!1,refreshDisabled:!1,refreshInterval:0},interstitial:{prettyName:"Interstitial",disabled:!1,refreshDisabled:!1,refreshInterval:0},googleInterstitial:{prettyName:"Google Interstitial",disabled:!1,refreshDisabled:!1,refreshInterval:0},dianomiContentRec:{prettyName:"Dianomi Content Recommendation",disabled:!1,refreshDisabled:!1,refreshInterval:0},lazyLoad:{prettyName:"Lazy Loaded Ads",disabled:!1,refreshDisabled:!1,refreshInterval:0},iai:{prettyName:"Intelligent Ad Insert",disabled:!1,refreshDisabled:!1,refreshInterval:0},stickyRail:{prettyName:"Sticky Rail",disabled:!1,refreshDisabled:!1,refreshInterval:0}};var De={SILENT:0,CORE:5,MODULE:50,VERBOSE:99};var ir=()=>{var n;let t=_("fslog"),e=Number(t);if(String(t).trim()==="true")return De.VERBOSE;if(e)return Math.max(e,0);let r=_("fsdebug"),i=(n=window==null?void 0:window.freestar)==null?void 0:n.debug;if(r||i)return De.VERBOSE;let o=Number(r),d=Number(i);return Number.isInteger(d)?Math.max(d,0):Number.isInteger(o)?Math.max(o,0):De.SILENT};var ke=class{constructor(e={}){let{config:r={}}=e;Object.assign(this,r),this.enabled_slots=r.enabled_slots||[],this.products=r.products?(0,or.default)(pt,r.products):pt,this.logLevel=ir()}resetEnabledSlots(){this.enabled_slots=[]}setOriginalChanel(e){e&&(this.orignalChannel=e)}};function sr(t){if(["null","nullblank","nullsrcdoc"].includes(t.trim()))return!0;try{let e=new URL(t).origin;return!(e.startsWith("file://")||e==="null")}catch(e){return!1}}var wi="undefined",Io=`${wi}pubfig.min.js`;var _i="undefined",nr=`${_i}prebid.js`,ar="prod";function D(t,e,r){if(!e)return;let o=(Array.isArray(e)?e:e.match(/([^[.\]])+/g)).reduce((d,n)=>d&&d[n],t);return o===void 0?r:o}function cr(t){return t instanceof Object}var w={string:{type:"string",default:""},array:{type:"array",default:[]},object:{type:"object",default:{}},number:{type:"number",default:void 0}};function y({key:t,type:e=w.string.type}){let r=sessionStorage.getItem(t);if(e===w.object.type){if(r){let i=JSON.parse(r);if(cr(i))return i}return w.object.default}if(e===w.array.type){if(r){let i=JSON.parse(r);if(Array.isArray(i))return i}return w.array.default}if(e===w.number.type){let i=Number(r);return Number.isInteger(i)?i:w.number.default}return r}function x({key:t,type:e=w.string,value:r}){r&&((e===w.object||e===w.array)&&(r=JSON.stringify(r)),sessionStorage.setItem(t,r))}var Le="pubfig.min.js",dr="https://a.pub.network/",fr="freestar-com",lr="fs.sitePath",Ei=(t=window.document)=>{let e=t.querySelectorAll(`script[src*="${Le}"]`);return Array.from(e||[]).find(r=>!r.src.includes("/core/"))},Si=t=>{var e,r;return(r=(e=t==null?void 0:t.src)==null?void 0:e.split(dr)[1])==null?void 0:r.split("/")[0]},Me=t=>{let e=y({key:lr});if(e&&e!==fr)return e;let r=Ei(),i=Si(r||t)||fr;return x({key:lr,value:i,type:w.string}),i},ur=(t=window,e)=>{var o,d,n;if(pe.includes("localhost"))return pe;let r=t.document.querySelectorAll(`script[src*="${Le}"]`),i=null;return e&&(i=Array.from(r).find(({id:p})=>p===e)),i||(i=Array.from(r).pop()),(n=i==null?void 0:i.src.substring(0,(i==null?void 0:i.src.lastIndexOf("/"))+1))!=null?n:`${dr}${(d=(o=t.freestar)==null?void 0:o.fsdata)==null?void 0:d.path}/`};var pr="Video,StickyFooter,Superflex,StickyAd,SideWall";function Ii(){return pr.includes("MODULES")?[]:pr.split(",").map(t=>t.trim())}function mr(){if(_("fsdisable"))throw new Error("pubfig disabled.");if(!sr(window.location.href))throw new Error("Pubfig disabled: Invalid page URL detected. Please ensure you are loading from a valid origin.")}function gr(){if(freestar.performanceLogger.logMark({markerName:Z.pubfigEngineLoadInit}),freestar.modulesLoaded.engine)return freestar.log(0,"========== ENGINE ALREADY LOADED =========="),!1;let t=window.fsprebid||{};if(window.fsprebid=t,t.que=t.que||[],t.retries=0,freestar.fsdata.disallowedGeos&&freestar.fsdata.disallowedGeos.length&&freestar.fsdata.disallowedGeos.includes(freestar.locData.iso))freestar.log(0,"Ad serving is blocked in "+freestar.locData.iso);else{if(freestar.modulesLoaded.engine)return freestar.log(0,"========== ENGINE ALREADY LOADED =========="),!1;yi(),freestar.pubfigState.configReady=!0,Ft({name:"pubfigRunEngine",detail:!0})}}var yi=()=>I(void 0,null,function*(){let t=["engineMobile","engineDesktop","engineFallback"];for(let e of t)try{yield freestar.scriptsManager.loadScript(e);return}catch(r){}});function hr(){let t=window.freestar||{};window.freestar=t,t.log=jt,t.disableAutoTrackPageviews=t.disableAutoTrackPageviews||!1,t.version=qt,t.gitHash=Yt,t.hitTime=t.hitTime||Date.now(),t.queue=t.queue||[],t.pubfigState={configReady:!1};let e=new ke(t);t.config=t.config||{},t.configManager=e,t.config.products=e.products,t.config.enabled_slots=e.enabled_slots,t.modulesLoaded=t.modulesLoaded||{engine:!1,messaging:!1,pubfig:!1,prebid:!1},t.msg={},t.msg.collectorURL=window.freestarUrl||Ht,t.msg.dispensaryURL=window.dispensaryUrl||Ce,t.consentManagement={consentData:{}},t.analyticsQueue=[],t.featuresIncluded=Ii(),t.sitePath=t.sitePath||Me(),t.newAdSlots=function(r,i=null){t.loaded||B("newAdSlots"),t.queue.push(function(){t.newAdSlots(r,i)})},t.deleteAdSlots=function(r){t.loaded||B("deleteAdSlots"),t.queue.push(function(){t.deleteAdSlots(r)})},t.newStickyFooter=function(r){t.loaded||B("newStickyFooter"),t.queue.push(function(){t.newStickyFooter(r)})},t.newSidewall=function(r){t.loaded||B("newSidewall"),t.queue.push(function(){t.newSidewall(r)})},t.newVideo=function(r){t.loaded||B("newVideo"),t.queue.push(function(){t.newVideo(r)})},t.newPushdown=function(r){t.loaded||B("newPushdown"),t.queue.push(function(){t.newPushdown(r)})},t.newStandAlonePlayer=function(r){t.loaded||B("newStandAlonePlayer"),t.queue.push(function(){t.newStandAlonePlayer(r)})},t.deleteStandAlonePlayer=function(r){t.loaded||B("deleteStandAlonePlayer"),t.queue.push(function(){t.deleteStandAlonePlayer(r)})}}function br(){return I(this,null,function*(){let t=["prebid","prebidFallback"];for(let e of t)try{yield freestar.scriptsManager.loadScript(e);return}catch(r){}})}var Ue=class{constructor({freestar:e}){this._freestar=e,this._analytics=null,this.isReportingActive=y({key:me})||Math.random()*100<1,e.performanceMarksData=e.performanceMarksData||{pendingMarks:[],processedMarks:[]},this.isFirstLoad=this.getIsFirstLoad()}get performanceMarksData(){return this._freestar.performanceMarksData}set performanceMarksData(e){this._freestar.performanceMarksData=e}setAnalytics(e){this._analytics=e}resetPerformanceLogger(){sessionStorage.removeItem("hasLoadedBefore"),this.performanceMarksData={pendingMarks:[],processedMarks:[]}}fetchPerformanceMarkDetails({markerName:e,compareToData:r}){let i=performance==null?void 0:performance.getEntriesByName(e,"mark");if(i.length===0)return null;let o;r&&(o=performance==null?void 0:performance.getEntriesByName(r,"mark"));let d=i[0];return N({marker_name:d.name,absolute_time:d.startTime.toFixed(2)},this.compareMarks({mark:d,compareToPerformanceMarkData:o}))}compareMarks({mark:e,compareToPerformanceMarkData:r}){if(!r)return{};let i=(e.startTime-r[0].startTime).toFixed(2);return{compared_to:r[0].name,relative_Time:i}}fetchUserDetails(){let{deviceInfo:e,locData:r}=this._freestar,{browser:i,os:o,device:d}=e;return Y(N({},r),{browser_name:i.name,browser_version:i.version,os_name:o.name,os_version:o.version,device_type:d.type})}getIsFirstLoad(){return sessionStorage.getItem("hasLoadedBefore")===null?(sessionStorage.setItem("hasLoadedBefore","true"),!0):!1}sendPerformanceMarkerToQueue({markerName:e,compareTo:r}){if(!(!this.isReportingActive||this.performanceMarksData.processedMarks.includes(e)))if(this.performanceMarksData.processedMarks.push(e),r.length===0){let i=this.fetchPerformanceMarkDetails({markerName:e}),o=this.fetchUserDetails(),d=new F({eventType:"PERFORMANCE",eventName:e.toUpperCase(),data:Y(N(N({},i),o),{is_first_load:this.isFirstLoad,pubfig_version:this._freestar.version})});if(this._analytics){this._analytics.track(d);return}this._freestar.analyticsQueue.push(d)}else r.forEach(i=>{let o=this.fetchPerformanceMarkDetails({markerName:e,compareToData:i}),d=this.fetchUserDetails(),n=new F({eventType:"PERFORMANCE",eventName:e.toUpperCase(),data:Y(N(N({},o),d),{is_first_load:this.isFirstLoad,pubfig_version:this._freestar.version})});if(this._analytics){this._analytics.track(n);return}this._freestar.analyticsQueue.push(n)})}pushAllPendingMarksToMsgQue(){this.performanceMarksData.pendingMarks.forEach(e=>{this.sendPerformanceMarkerToQueue(e)})}logMark({markerName:e,compareTo:r=[],isFreestarDataCollectorInitialized:i=!0}){if(performance.mark(e),!i||!this._freestar.deviceInfo||!this._freestar.locData){this.performanceMarksData.pendingMarks.push({markerName:e,compareTo:r});return}this.sendPerformanceMarkerToQueue({markerName:e,compareTo:r})}logPerformanceMarkers(){let e=performance.getEntriesByType("mark");for(let r of e)console.log(`Mark [${r.name}]: ${r.startTime.toFixed(2)}ms`)}};var Ai="2.0.2",At=500,wr="user-agent",ce="",_r="?",Ve="function",J="undefined",fe="object",vt="string",A="browser",V="cpu",L="device",C="engine",R="os",ne="result",c="name",s="type",f="vendor",l="version",v="architecture",ve="major",a="model",ye="console",m="mobile",h="tablet",E="smarttv",k="wearable",mt="xr",Ae="embedded",he="inapp",xt="brands",te="formFactors",Pt="fullVersionList",ae="platform",Rt="platformVersion",He="bitness",X="sec-ch-ua",vi=X+"-full-version-list",Ti=X+"-arch",Oi=X+"-"+He,xi=X+"-form-factors",Pi=X+"-"+m,Ri=X+"-"+a,Lr=X+"-"+ae,Ni=Lr+"-version",Mr=[xt,Pt,m,a,ae,Rt,v,te,He],Fe="Amazon",oe="Apple",Er="ASUS",Sr="BlackBerry",ee="Google",Ir="Huawei",yr="Lenovo",Ar="Honor",Be="LG",gt="Microsoft",ht="Motorola",bt="Nvidia",vr="OnePlus",wt="OPPO",be="Samsung",Tr="Sharp",we="Sony",_t="Xiaomi",Et="Zebra",Or="Chrome",xr="Chromium",z="Chromecast",Ci="Edge",_e="Firefox",Ee="Opera",Pr="Facebook",Rr="Sogou",se="Mobile ",Se=" Browser",Tt="Windows",Di=typeof window!==J,T=Di&&window.navigator?window.navigator:void 0,W=T&&T.userAgentData?T.userAgentData:void 0,ki=function(t,e){var r={},i=e;if(!je(e)){i={};for(var o in e)for(var d in e[o])i[d]=e[o][d].concat(i[d]?i[d]:[])}for(var n in t)r[n]=i[n]&&i[n].length%2===0?i[n].concat(t[n]):t[n];return r},qe=function(t){for(var e={},r=0;r<t.length;r++)e[t[r].toUpperCase()]=t[r];return e},Ot=function(t,e){if(typeof t===fe&&t.length>0){for(var r in t)if(j(t[r])==j(e))return!0;return!1}return de(t)?j(e).indexOf(j(t))!==-1:!1},je=function(t,e){for(var r in t)return/^(browser|cpu|device|engine|os)$/.test(r)||(e?je(t[r]):!1)},de=function(t){return typeof t===vt},St=function(t){if(t){for(var e=[],r=le(/\\?\"/g,t).split(","),i=0;i<r.length;i++)if(r[i].indexOf(";")>-1){var o=Te(r[i]).split(";v=");e[i]={brand:o[0],version:o[1]}}else e[i]=Te(r[i]);return e}},j=function(t){return de(t)?t.toLowerCase():t},It=function(t){return de(t)?le(/[^\d\.]/g,t).split(".")[0]:void 0},H=function(t){for(var e in t){var r=t[e];typeof r==fe&&r.length==2?this[r[0]]=r[1]:this[r]=void 0}return this},le=function(t,e){return de(e)?e.replace(t,ce):e},Ie=function(t){return le(/\\?\"/g,t)},Te=function(t,e){if(de(t))return t=le(/^\s\s*/,t),typeof e===J?t:t.substring(0,At)},yt=function(t,e){if(!(!t||!e))for(var r=0,i,o,d,n,p,u;r<e.length&&!p;){var g=e[r],S=e[r+1];for(i=o=0;i<g.length&&!p&&g[i];)if(p=g[i++].exec(t),p)for(d=0;d<S.length;d++)u=p[++o],n=S[d],typeof n===fe&&n.length>0?n.length===2?typeof n[1]==Ve?this[n[0]]=n[1].call(this,u):this[n[0]]=n[1]:n.length===3?typeof n[1]===Ve&&!(n[1].exec&&n[1].test)?this[n[0]]=u?n[1].call(this,u,n[2]):void 0:this[n[0]]=u?u.replace(n[1],n[2]):void 0:n.length===4&&(this[n[0]]=u?n[3].call(this,u.replace(n[1],n[2])):void 0):this[n]=u||void 0;r+=2}},Q=function(t,e){for(var r in e)if(typeof e[r]===fe&&e[r].length>0){for(var i=0;i<e[r].length;i++)if(Ot(e[r][i],t))return r===_r?void 0:r}else if(Ot(e[r],t))return r===_r?void 0:r;return e.hasOwnProperty("*")?e["*"]:t},Nr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Cr={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},Dr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[l,[c,se+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[l,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,l],[/opios[\/ ]+([\w\.]+)/i],[l,[c,Ee+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[l,[c,Ee+" GX"]],[/\bopr\/([\w\.]+)/i],[l,[c,Ee]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[l,[c,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[l,[c,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[c,l],[/quark(?:pc)?\/([-\w\.]+)/i],[l,[c,"Quark"]],[/\bddg\/([\w\.]+)/i],[l,[c,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[l,[c,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[l,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[l,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[l,[c,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[l,[c,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[l,[c,"Smart "+yr+Se]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure"+Se],l],[/\bfocus\/([\w\.]+)/i],[l,[c,_e+" Focus"]],[/\bopt\/([\w\.]+)/i],[l,[c,Ee+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[l,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[l,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[l,[c,Ee+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[l,[c,"MIUI"+Se]],[/fxios\/([\w\.-]+)/i],[l,[c,se+_e]],[/\bqihoobrowser\/?([\w\.]*)/i],[l,[c,"360"]],[/\b(qq)\/([\w\.]+)/i],[[c,/(.+)/,"$1Browser"],l],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1"+Se],l],[/samsungbrowser\/([\w\.]+)/i],[l,[c,be+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[l,[c,Rr+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[c,Rr+" Mobile"],l],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[c,l],[/(lbbrowser|rekonq)/i],[c],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[l,c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,Pr],l,[s,he]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[c,l,[s,he]],[/\bgsa\/([\w\.]+) .*safari\//i],[l,[c,"GSA"],[s,he]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[l,[c,"TikTok"],[s,he]],[/\[(linkedin)app\]/i],[c,[s,he]],[/(chromium)[\/ ]([-\w\.]+)/i],[c,l],[/headlesschrome(?:\/([\w\.]+)| )/i],[l,[c,Or+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,Or+" WebView"],l],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[l,[c,"Android"+Se]],[/chrome\/([\w\.]+) mobile/i],[l,[c,se+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,l],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[l,[c,se+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[c,se+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[l,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[l,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[c,l],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[c,se+_e],l],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],l],[/(wolvic|librewolf)\/([\w\.]+)/i],[c,l],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[l,[c,_e+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[c,[l,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[c,[l,/[^\d\.]+./,ce]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[v,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[v,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[v,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[v,/ower/,ce,j]],[/ sun4\w[;\)]/i],[[v,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[v,j]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[f,be],[s,h]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[a,[f,be],[s,m]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[a,[f,oe],[s,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[a,[f,oe],[s,h]],[/(macintosh);/i],[a,[f,oe]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[a,[f,Tr],[s,m]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[a,[f,Ar],[s,h]],[/honor([-\w ]+)[;\)]/i],[a,[f,Ar],[s,m]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[a,[f,Ir],[s,h]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[a,[f,Ir],[s,m]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[a,/_/g," "],[f,_t],[s,h]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[a,/_/g," "],[f,_t],[s,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[a,[f,wt],[s,m]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[a,[f,Q,{OnePlus:["304","403","203"],"*":wt}],[s,h]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[a,[f,"Vivo"],[s,m]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[a,[f,"Realme"],[s,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[a,[f,ht],[s,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[a,[f,ht],[s,h]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[f,Be],[s,h]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[a,[f,Be],[s,m]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[a,[f,yr],[s,h]],[/(nokia) (t[12][01])/i],[f,a,[s,h]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[a,/_/g," "],[s,m],[f,"Nokia"]],[/(pixel (c|tablet))\b/i],[a,[f,ee],[s,h]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[a,[f,ee],[s,m]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[f,we],[s,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[a,"Xperia Tablet"],[f,we],[s,h]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[a,[f,vr],[s,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[a,[f,Fe],[s,h]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[a,/(.+)/g,"Fire Phone $1"],[f,Fe],[s,m]],[/(playbook);[-\w\),; ]+(rim)/i],[a,f,[s,h]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[a,[f,Sr],[s,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[a,[f,Er],[s,h]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[a,[f,Er],[s,m]],[/(nexus 9)/i],[a,[f,"HTC"],[s,h]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[a,/_/g," "],[s,m]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[a,[f,"TCL"],[s,h]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[a,[f,"TCL"],[s,m]],[/(itel) ((\w+))/i],[[f,j],a,[s,Q,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[a,[f,"Acer"],[s,h]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[a,[f,"Meizu"],[s,m]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[a,[f,"Ulefone"],[s,m]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[a,[f,"Energizer"],[s,m]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[a,[f,"Cat"],[s,m]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[a,[f,"Smartfren"],[s,m]],[/droid.+; (a(?:015|06[35]|142p?))/i],[a,[f,"Nothing"],[s,m]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[f,a,[s,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[f,a,[s,m]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[f,a,[s,h]],[/(surface duo)/i],[a,[f,gt],[s,h]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[a,[f,"Fairphone"],[s,m]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[a,[f,bt],[s,h]],[/(sprint) (\w+)/i],[f,a,[s,m]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[f,gt],[s,m]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[a,[f,Et],[s,h]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[a,[f,Et],[s,m]],[/smart-tv.+(samsung)/i],[f,[s,E]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[f,be],[s,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,Be],[s,E]],[/(apple) ?tv/i],[f,[a,oe+" TV"],[s,E]],[/crkey.*devicetype\/chromecast/i],[[a,z+" Third Generation"],[f,ee],[s,E]],[/crkey.*devicetype\/([^/]*)/i],[[a,/^/,"Chromecast "],[f,ee],[s,E]],[/fuchsia.*crkey/i],[[a,z+" Nest Hub"],[f,ee],[s,E]],[/crkey/i],[[a,z],[f,ee],[s,E]],[/droid.+aft(\w+)( bui|\))/i],[a,[f,Fe],[s,E]],[/(shield \w+ tv)/i],[a,[f,bt],[s,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[a,[f,Tr],[s,E]],[/(bravia[\w ]+)( bui|\))/i],[a,[f,we],[s,E]],[/(mi(tv|box)-?\w+) bui/i],[a,[f,_t],[s,E]],[/Hbbtv.*(technisat) (.*);/i],[f,a,[s,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,Te],[a,Te],[s,E]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[a,[s,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[s,E]],[/(ouya)/i,/(nintendo) (\w+)/i],[f,a,[s,ye]],[/droid.+; (shield)( bui|\))/i],[a,[f,bt],[s,ye]],[/(playstation \w+)/i],[a,[f,we],[s,ye]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[a,[f,gt],[s,ye]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[a,[f,be],[s,k]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[f,a,[s,k]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[a,[f,wt],[s,k]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[a,[f,oe],[s,k]],[/(opwwe\d{3})/i],[a,[f,vr],[s,k]],[/(moto 360)/i],[a,[f,ht],[s,k]],[/(smartwatch 3)/i],[a,[f,we],[s,k]],[/(g watch r)/i],[a,[f,Be],[s,k]],[/droid.+; (wt63?0{2,3})\)/i],[a,[f,Et],[s,k]],[/droid.+; (glass) \d/i],[a,[f,ee],[s,mt]],[/(pico) (4|neo3(?: link|pro)?)/i],[f,a,[s,mt]],[/; (quest( \d| pro)?)/i],[a,[f,Pr],[s,mt]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[s,Ae]],[/(aeobc)\b/i],[a,[f,Fe],[s,Ae]],[/(homepod).+mac os/i],[a,[f,oe],[s,Ae]],[/windows iot/i],[[s,Ae]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[a,[s,Q,{mobile:"Mobile",xr:"VR","*":h}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[s,h]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[s,m]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[a,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[l,[c,Ci+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[c,l],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[c,l],[/ladybird\//i],[[c,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[l,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,l],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[c,[l,Q,Nr]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[l,Q,Nr],[c,Tt]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[l,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,"macOS"],[l,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[l,[c,z+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[l,[c,z+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[l,[c,z+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[l,[c,z+" Linux"]],[/crkey\/([\d\.]+)/i],[l,[c,z]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[l,c],[/(ubuntu) ([\w\.]+) like android/i],[[c,/(.+)/,"$1 Touch"],l],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[c,l],[/\(bb(10);/i],[l,[c,Sr]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[l,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[l,[c,_e+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[l,[c,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[l,[c,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[c,"Chrome OS"],l],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,l],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],l],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[c,l]]},Ge=function(){var t={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}};return H.call(t.init,[[A,[c,l,ve,s]],[V,[v]],[L,[s,a,f]],[C,[c,l]],[R,[c,l]]]),H.call(t.isIgnore,[[A,[l,ve]],[C,[l]],[R,[l]]]),H.call(t.isIgnoreRgx,[[A,/ ?browser$/i],[R,/ ?os$/i]]),H.call(t.toString,[[A,[c,l]],[V,[v]],[L,[f,a]],[C,[c,l]],[R,[c,l]]]),t}(),Li=function(t,e){var r=Ge.init[e],i=Ge.isIgnore[e]||0,o=Ge.isIgnoreRgx[e]||0,d=Ge.toString[e]||0;function n(){H.call(this,r)}return n.prototype.getItem=function(){return t},n.prototype.withClientHints=function(){return W?W.getHighEntropyValues(Mr).then(function(p){return t.setCH(new Ur(p,!1)).parseCH().get()}):t.parseCH().get()},n.prototype.withFeatureCheck=function(){return t.detectFeature().get()},e!=ne&&(n.prototype.is=function(p){var u=!1;for(var g in this)if(this.hasOwnProperty(g)&&!Ot(i,g)&&j(o?le(o,this[g]):this[g])==j(o?le(o,p):p)){if(u=!0,p!=J)break}else if(p==J&&u){u=!u;break}return u},n.prototype.toString=function(){var p=ce;for(var u in d)typeof this[d[u]]!==J&&(p+=(p?" ":ce)+this[d[u]]);return p||J}),W||(n.prototype.then=function(p){var u=this,g=function(){for(var b in u)u.hasOwnProperty(b)&&(this[b]=u[b])};g.prototype={is:n.prototype.is,toString:n.prototype.toString};var S=new g;return p(S),S}),new n};function Ur(t,e){if(t=t||{},H.call(this,Mr),e)H.call(this,[[xt,St(t[X])],[Pt,St(t[vi])],[m,/\?1/.test(t[Pi])],[a,Ie(t[Ri])],[ae,Ie(t[Lr])],[Rt,Ie(t[Ni])],[v,Ie(t[Ti])],[te,St(t[xi])],[He,Ie(t[Oi])]]);else for(var r in t)this.hasOwnProperty(r)&&typeof t[r]!==J&&(this[r]=t[r])}function kr(t,e,r,i){return this.get=function(o){return o?this.data.hasOwnProperty(o)?this.data[o]:void 0:this.data},this.set=function(o,d){return this.data[o]=d,this},this.setCH=function(o){return this.uaCH=o,this},this.detectFeature=function(){if(T&&T.userAgent==this.ua)switch(this.itemType){case A:T.brave&&typeof T.brave.isBrave==Ve&&this.set(c,"Brave");break;case L:!this.get(s)&&W&&W[m]&&this.set(s,m),this.get(a)=="Macintosh"&&T&&typeof T.standalone!==J&&T.maxTouchPoints&&T.maxTouchPoints>2&&this.set(a,"iPad").set(s,h);break;case R:!this.get(c)&&W&&W[ae]&&this.set(c,W[ae]);break;case ne:var o=this.data,d=function(n){return o[n].getItem().detectFeature().get()};this.set(A,d(A)).set(V,d(V)).set(L,d(L)).set(C,d(C)).set(R,d(R))}return this},this.parseUA=function(){return this.itemType!=ne&&yt.call(this.data,this.ua,this.rgxMap),this.itemType==A&&this.set(ve,It(this.get(l))),this},this.parseCH=function(){var o=this.uaCH,d=this.rgxMap;switch(this.itemType){case A:case C:var n=o[Pt]||o[xt],p;if(n)for(var u in n){var g=n[u].brand||n[u],S=n[u].version;this.itemType==A&&!/not.a.brand/i.test(g)&&(!p||/chrom/i.test(p)&&g!=xr)&&(g=Q(g,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome"}),this.set(c,g).set(l,S).set(ve,It(S)),p=g),this.itemType==C&&g==xr&&this.set(l,S)}break;case V:var b=o[v];b&&(b&&o[He]=="64"&&(b+="64"),yt.call(this.data,b+";",d));break;case L:if(o[m]&&this.set(s,m),o[a]&&(this.set(a,o[a]),!this.get(s)||!this.get(f))){var P={};yt.call(P,"droid 9; "+o[a]+")",d),!this.get(s)&&P.type&&this.set(s,P.type),!this.get(f)&&P.vendor&&this.set(f,P.vendor)}if(o[te]){var q;if(typeof o[te]!="string")for(var xe=0;!q&&xe<o[te].length;)q=Q(o[te][xe++],Cr);else q=Q(o[te],Cr);this.set(s,q)}break;case R:var ot=o[ae];if(ot){var st=o[Rt];ot==Tt&&(st=parseInt(It(st),10)>=13?"11":"10"),this.set(c,ot).set(l,st)}this.get(c)==Tt&&o[a]=="Xbox"&&this.set(c,"Xbox").set(l,void 0);break;case ne:var jr=this.data,ue=function(Hr){return jr[Hr].getItem().setCH(o).parseCH().get()};this.set(A,ue(A)).set(V,ue(V)).set(L,ue(L)).set(C,ue(C)).set(R,ue(R))}return this},H.call(this,[["itemType",t],["ua",e],["uaCH",i],["rgxMap",r],["data",Li(this,t)]]),this}function M(t,e,r){if(typeof t===fe?(je(t,!0)?(typeof e===fe&&(r=e),e=t):(r=t,e=void 0),t=void 0):typeof t===vt&&!je(e,!0)&&(r=e,e=void 0),r&&typeof r.append===Ve){var i={};r.forEach(function(u,g){i[g]=u}),r=i}if(!(this instanceof M))return new M(t,e,r).getResult();var o=typeof t===vt?t:r&&r[wr]?r[wr]:T&&T.userAgent?T.userAgent:ce,d=new Ur(r,!0),n=e?ki(Dr,e):Dr,p=function(u){return u==ne?function(){return new kr(u,o,n,d).set("ua",o).set(A,this.getBrowser()).set(V,this.getCPU()).set(L,this.getDevice()).set(C,this.getEngine()).set(R,this.getOS()).get()}:function(){return new kr(u,o,n[u],d).parseUA().get()}};return H.call(this,[["getBrowser",p(A)],["getCPU",p(V)],["getDevice",p(L)],["getEngine",p(C)],["getOS",p(R)],["getResult",p(ne)],["getUA",function(){return o}],["setUA",function(u){return de(u)&&(o=u.length>At?Te(u,At):u),this}]]).setUA(o),this}M.VERSION=Ai;M.BROWSER=qe([c,l,ve,s]);M.CPU=qe([v]);M.DEVICE=qe([a,f,s,ye,m,E,h,k,Ae]);M.ENGINE=M.OS=qe([c,l]);var Fr="desktop";var Nt="fs.session",Ye=class{constructor({freestar:e,window:r}){K(this,"deviceInfo",{});var o;this._freestar=e,this._window=r,this.cdep=!!this._freestar.cdep;let i=JSON.parse(y({key:Nt}));this.known=Number((o=i==null?void 0:i.known)!=null?o:0)}initManager(){this._window.freestar=this._window.freestar||{},this._setDeviceType()}_setDeviceType(){this.deviceInfo=M(),this._window.freestar.deviceInfo=this.deviceInfo,this.deviceInfo.device.type||(this.deviceInfo.device={type:Fr})}get userAgent(){let e=this.deviceInfo.browser.name,r=this.deviceInfo.os.name;return r==="Mac OS"&&e==="Safari"?"Safari":r==="iOS"?"iOS":e}_update(e){this.known=e;let r=JSON.parse(y({key:Nt}));if((r==null?void 0:r.known)!==this.known){let i=Y(N({},r),{known:this.known});x({key:Nt,type:w.object,value:i})}}get isKnownByPrebidUser(){var e;return!!((e=window.fsprebid)!=null&&e.getUserIds&&Object.keys(window.fsprebid.getUserIds()).length)}get isCDEPUser(){return this.cdep}get _isKnown(){return Number(!this.isCDEPUser&&this.isKnownByPrebidUser)}get isKnown(){return this._update(this._isKnown),this.known}};var Oe="fs.altConfig";var Ke=" exiting after creating new instance...",Dt=class{constructor({win:e=window}={}){this._window=e,this._window._pubfigInstanceManagerConfig=this._window._pubfigInstanceManagerConfig||{},this.config=this._window._pubfigInstanceManagerConfig,this.fsLoadPubfigVersionUrlParams=_(G.fsLoadPubfigVersion,e),this.fsLoadPubfigVersionUrlParams&&(this._window.freestar.pubfigVersionToLoad=this.fsLoadPubfigVersionUrlParams),this.fsAltConfigUrlParams=this._getAltConfigVersion(),this.isQA=_(G.fsdebug,e),this._currentSitePath=this._window.freestar.sitePath}_getAltConfigVersion(){let e=_(G.fsaltconfig,this._window),r=y({key:Oe});return e||r}setPubfigMinCurrentId(e){Object.values($).includes(e)&&(this.config.pubfigMinCurrentId=e)}get sourcesPath(){return!0?ur(this._window,this.config.pubfigMinCurrentId):this.config.pubfigMinCurrentId===$.playwrightTestsScriptId?`https://a.pub.network/core/pubfig/${this.fsLoadPubfigVersionUrlParams}/`:pe}loadAlternativeInstance({src:e,errorString:r}){let i=ct({type:"script",id:this.config.pubfigMinCurrentId,src:e},this._window.document);throw this._window.document.head.appendChild(i),new Error(r)}checkForAlternativeInstances({isTest:e,onAlternativeInstanceFound:r}={isTest:"",onAlternativeInstanceFound:()=>{}}){this.fsLoadPubfigVersionUrlParams&&!this.config.loadPubfigVersionRedirect&&(this.config.loadPubfigVersionRedirect=!0,this.setPubfigMinCurrentId($.playwrightTestsScriptId),r(),this.loadAlternativeInstance({src:`https://a.pub.network/core/pubfig/${this.fsLoadPubfigVersionUrlParams}/pubfig.min.js`,errorString:`PLAYWRIGHTS TEST FOUND -${Ke}`})),e&&e.length&&(r(),this.setPubfigMinCurrentId($.abTestsScriptId),this._window.freestar.redirected=!0,this.loadAlternativeInstance({src:e,errorString:`AB TEST FOUND -${Ke}`}));let i=Array.from(document.querySelectorAll(`script#${$.fsAltConfigScriptId}`));if(this.fsAltConfigUrlParams&&i.length===0&&(x({key:Oe,value:this.fsAltConfigUrlParams}),r(),this.setPubfigMinCurrentId($.fsAltConfigScriptId),this.loadAlternativeInstance({src:`https://a.pub.network/${this._currentSitePath}/test/${this.fsAltConfigUrlParams}/pubfig.min.js?bypass=true`,errorString:`Alternate Configuration - found alt version,${Ke}`})),this.isQA&&!this.config.fsQaRedirect){this.config.fsQaRedirect=!0;let o;document.querySelectorAll("script").forEach(d=>{if(d.innerText.includes("qa/pubfig")){o=!0;return}}),o||(r(),this.setPubfigMinCurrentId($.qaScriptId),this.loadAlternativeInstance({src:`https://a.pub.network/${this._currentSitePath}/qa/pubfig.min.js`,errorString:`QA version called via params -${Ke}`}))}}},Ct=null;function U(){return Ct||(Ct=new Dt),Ct}function Br({freestar:t=window.freestar,network:e}){return!e.deviceExclusive||e.deviceExclusive.toLowerCase()===t.deviceInfo.device.type}var Mi={emxdigital:"emx_digital",synacor:"synacormedia"},$e=class{constructor({freestar:e}){this._freestar=e}_normalizeLocation(e){let i=D(e,"location");if(i)return{iso:i.countryCode,city:i.cityName,state:i.state}}networkSlugModification(e=""){return Mi[e]||e}_processNetworkMap(e){return D(e,"networkMap.networks")}_adaptFsDataSettings(e){var i,o,d,n;let r=D(e,"pubfigSettings.fsdata");return r&&(r.timeout=(i=r.timeout)!=null?i:3e3,r.mobileTimeout=(o=r.mobileTimeout)!=null?o:3e3),(d=r==null?void 0:r.placements)!=null&&d.length&&(r.placements=this._filterOutArchivedPlacements(r.placements)),(n=r==null?void 0:r.networks)!=null&&n.length&&(r.networks=this._getDeviceExclusiveNetworks(r.networks)),r}_getDeviceExclusiveNetworks(e){return e.filter(r=>Br({freestar:this._freestar,network:r}))}_filterOutArchivedPlacements(e){return e.filter(r=>!r.archived)}_getFpc(e){return e.fsuid}_getAbTest(e){var r;return(r=D(e,"pubfigSettings.abTest"))!=null?r:{}}_getPubfigLocation(e){return D(e,"pubfigSettings.pubfigLocation")}adapt(e){return!e||Object.keys(e).length===0?(console.error("Empty data provided to DispensaryDataAdapter"),{}):{fpc:this._getFpc(e),location:this._normalizeLocation(e),networkMap:this._processNetworkMap(e),fsdata:this._adaptFsDataSettings(e,e.adRefresh),abTest:this._getAbTest(e),pubfigLocation:this._getPubfigLocation(e)}}};var ze=class{constructor({freestar:e}){this.adapters={dispensaryData:new $e({freestar:e})}}adapt(e,r){if(!this.adapters[e])throw new Error(`No adapter found for data type ${e}`);return this.adapters[e].adapt(r)}};var We=class{constructor({freestar:e}){K(this,"_isLoaded",!1);this._freestar=e,this.fpc,this.locData,this.networkMap,this.fsdata,this.config={},this.envAndConfig,this.cdep,this.dataAdapter=new ze({freestar:e})}load(){return I(this,null,function*(){this._isLoaded||(this._setEnvironmentAndConfig(),yield this._fetchDispensaryData(),this.cdep=yield this._getCookieDeprecationLabel(),this._isLoaded=!0)})}_setEnvironmentAndConfig(){let e=Ut(G.fsdebug),r=_(G.fsaltconfig),i=y({key:Oe}),o=r||i,d=_("fstesturl");this.envAndConfig={env:"PROD",version:!1,altUrl:d},e?this.envAndConfig.env="QA":o&&o>0&&(this.envAndConfig.env="TEST",this.envAndConfig.version=o)}_getCookieDeprecationLabel(){return I(this,null,function*(){return"cookieDeprecationLabel"in navigator?navigator.cookieDeprecationLabel.getValue():null})}_getInitUrl(){let e=`${Ce}/v2/sites/${this._freestar.sitePath}/configs?env=${this.envAndConfig.env}`;this.envAndConfig.env==="TEST"&&(e+=Kt.replace("NUMBER",this.envAndConfig.version.toString())),this.envAndConfig.env!=="PROD"&&(e+=$t);let r=y({key:me}),i=y({key:dt});return r&&(e+=zt.replace("TEST_ID",r)),i&&(e+=Wt.replace("VARIANT_ID",i)),e}_fallBackFetch(){return I(this,null,function*(){let e=yield fetch(`https://a.pub.network/${this._freestar.sitePath}/fsdata.json`);if(!e.ok){let i=`No data returned from fsdata fallback endpoint: ${e.status}`;throw new Error(i)}let r=yield e.json();r?(this.fsdata=r,this.locData=null,this.networkMap=null):console.error("DispensaryData: No data returned from dispensary endpoint")})}_reportEmptyData(){freestar.analyticsQueue.push(new F({eventName:"INIT_ENDPOINT_FAILED",eventType:"EMPTY_FSDATA",data:freestar.fsdata})),console.error("DispensaryData: Empty data returned")}abTestDataFetchAndSet({pubfigSettings:{abTest:e,pubfigLocation:r}}){if(e&&!this._freestar.redirected){let{testGroup:i,testId:o,testType:d,testVariantId:n}=e;if(`${i}`.length&&x({key:Qt,value:`${i}`,type:w.string}),o&&x({key:me,value:o,type:w.string}),n&&x({key:dt,value:n,type:w.string}),d&&(x({key:Jt,value:d,type:w.string}),r))return x({key:Xt,value:r,type:w.string}),r}return!1}_getLocationData(e,r){let i=D(e,r);if(i)return{iso:i.countryCode,city:i.cityName,state:i.state}}_processData(e){let r=this.dataAdapter.adapt("dispensaryData",e);U().checkForAlternativeInstances({isTest:this.abTestDataFetchAndSet(e),onAlternativeInstanceFound:()=>{this._freestar.performanceLogger.resetPerformanceLogger(),this._freestar.modulesLoaded.pubfig=!1}}),this.fpc=r.fpc,this.locData=r.location,this.networkMap=r.networkMap,this.fsdata=r.fsdata,this.abTest=r.abTest,this.pubfigLocation=r.pubfigLocation}_fetchDispensaryData(){return I(this,null,function*(){let e=y({key:ut});if(e&&(e=JSON.parse(e),e.timestamp&&(Date.now()-e.timestamp)/1e3/60>=3*60&&(e=null)),(this.envAndConfig.env!=="PROD"||this.envAndConfig.env==="PROD"&&e&&e.altconfig)&&(e=null),!e)try{let r=yield fetch(this._getInitUrl(),{credentials:"include"});if(!r.ok)throw console.log(`DispensaryData: No data returned from initURL fetching fsdata endpoint: ${r.status}`),new Error("Fetching dispensary data failed");if(e=yield r.json(),!e||Object.keys(e).length===0)throw this._reportEmptyData(),new Error("Empty data returned");e.timestamp=Date.now(),this.envAndConfig.env==="TEST"&&!e.altconfig&&(e.altconfig=!0),x({key:ut,value:e,type:w.object})}catch(r){yield this._fallBackFetch();return}this._processData(e)})}getValue(e){return D(this.fsdata,e)}};var Qe=class{constructor({win:e,scripts:r=[]}={}){this._win=e,this._scripts=new Map(r.map(i=>[i.id,i]))}addScripts(e){e.forEach(r=>this._scripts.set(r.id,r))}getScript(e){return this._scripts.get(e)}loadScript(e){return I(this,null,function*(){let r=this.getScript(e);if(!r)throw new Error(`Script ${e} not found`);return r.load()})}loadScripts(){return I(this,arguments,function*({id:e=[]}={}){let r=e.flatMap(i=>this.getScript(i)||[]);return Promise.all(r.map(i=>i.load()))})}};var re={IDLE:"idle",PENDING:"pending",READY:"ready",SKIPPED:"skipped",ERROR:"error"},O=class{constructor({id:e,location:r}){this.status=re.IDLE,this.id=e,this.location=r,this._onLoad=[]}onLoad(e){if(this.status===re.READY){e();return}this._onLoad.push(e)}beforeLoad(){return!0}afterLoad(){}load(){return I(this,null,function*(){if(this.status!==re.IDLE)return;if(this.status=re.PENDING,!this.beforeLoad()){this.status=re.SKIPPED;return}try{yield Vt(this.location,null,null),this.afterLoad(),this._onLoad.forEach(r=>r()),this._onLoad=[],this.status=re.READY}catch(r){throw this.status=re.ERROR,r}})}};var Je=class extends O{constructor({freestar:e=window.freestar,instanceManager:r=U()}={}){super({id:"engineMobile",location:`${r.sourcesPath}pubfig.engine.mobile.js`}),this._freestar=e}load(){var r,i,o;let e=(o=(i=(r=this._freestar.deviceInfo)==null?void 0:r.device)==null?void 0:i.type)!=null?o:"desktop";if(!(!0&&e.toLowerCase()==="mobile"))throw new Error("device type not supported");return super.load()}afterLoad(){this._restoreGlobalUnderscore()}_restoreGlobalUnderscore(){this._freestar.globalUnderscore&&(window._=this._freestar.globalUnderscore)}};var Xe=class extends O{constructor({freestar:e=window.freestar,instanceManager:r=U()}={}){super({id:"engineDesktop",location:`${r.sourcesPath}pubfig.engine.js`}),this._freestar=e}afterLoad(){this._restoreGlobalUnderscore()}_restoreGlobalUnderscore(){this._freestar.globalUnderscore&&(window._=this._freestar.globalUnderscore)}};var Ze="https://a.pub.network/core/pubfig";var et=class extends O{constructor({freestar:e=window.freestar}={}){super({id:"engineFallback",location:`${Ze}/${e.version}/pubfig.engine.js`}),this._freestar=e}afterLoad(){this._restoreGlobalUnderscore()}_restoreGlobalUnderscore(){this._freestar.globalUnderscore&&(window._=this._freestar.globalUnderscore)}};var Ui="https://securepubads.g.doubleclick.net/tag/js/gpt.js",tt=class extends O{constructor({win:e=window,dispensaryData:r}={}){super({id:"gam",location:""}),this._win=e,this._dispensaryData=r,this._setLocation()}beforeLoad(){return this._win.googletag=this._win.googletag||{},this._win.googletag.cmd=this._win.googletag.cmd||[],!0}_getGamNetworkCode(){var o,d,n;let e=(o=this._dispensaryData.fsdata)==null?void 0:o.placements,r=e==null?void 0:e[0],i=(d=r==null?void 0:r.dfpId)==null?void 0:d.split("/");return!i||i.length<2?null:((n=i[1])==null?void 0:n.split(",")[0])||null}_setLocation(){this.location=Ui}};var rt=class extends O{constructor({instanceManager:e=U()}={}){let i=ar==="dev"?nr:`${e.sourcesPath}prebid.js`;super({id:"prebid",location:i})}};var it=class extends O{constructor({freestar:e=window.freestar}={}){super({id:"prebidFallback",location:`${Ze}/${e.version}/prebid.js`})}};var Gr=({getIsFound:t,getElement:e=()=>null,callback:r,timeout:i=5e3,frequency:o=300})=>{let d=0,n=t(),p=e();if(n){r(n,p);return}let u=setInterval(()=>{d=d+1;let g=t(),S=e();(g||d>=i/o)&&(r(g,S),clearInterval(u))},o)};var Fi=({elementSelector:t,callback:e,timeout:r=5e3,frequency:i=300,doc:o=document})=>{Gr({getIsFound:()=>!!o.querySelector(t),getElement:()=>o.querySelector(t),callback:(d,n)=>{e(d,n)},timeout:r,frequency:i})},Vr=(...e)=>I(void 0,[...e],function*(t={}){return new Promise(r=>{Fi(Y(N({},t),{callback:(i,o)=>{r({isFound:i,element:o})}}))})});(function(){return I(this,null,function*(){var i,o,d,n;if(mr(),hr(),freestar.modulesLoaded.pubfig)return;freestar.modulesLoaded.pubfig=!0;let e=new Ue({freestar:window.freestar});freestar.performanceLogger=e,e.logMark({markerName:Z.pubfigLoaded,isFreestarDataCollectorInitialized:!1});let r=new Ye({freestar:window.freestar,window});r.initManager(),freestar.userInfoManager=r;try{U().checkForAlternativeInstances({isTest:!1,onAlternativeInstanceFound:()=>{e.resetPerformanceLogger(),freestar.fsdata=null,freestar.modulesLoaded.pubfig=!1}}),e.logMark({markerName:Z.pubfigInitRequestStart,isFreestarDataCollectorInitialized:!1});let{element:p}=yield Vr({elementSelector:`script[src*="${Le}"]`,doc:window.document,frequency:10});freestar.sitePath==="freestar-com"&&(freestar.sitePath=Me(p));let u=new We({freestar});yield u.load(),freestar.dispensaryData=u,freestar.cdep=u.cdep,freestar.fsdata=(i=u.fsdata)!=null?i:{},freestar.msg.fpc=(o=u.fpc)!=null?o:"",freestar.locData=(d=u.locData)!=null?d:{},freestar.networkMap=(n=u.networkMap)!=null?n:{},freestar.scriptsManager=new Qe({win:window,scripts:[new rt,new it,new tt({dispensaryData:u}),new Je,new Xe,new et]})}catch(p){return console.warn(`Warning: ${p.message}`),p}br(),freestar.scriptsManager.loadScripts({id:["gam"]}),e.logMark({markerName:Z.pubfigInitRequestEnd,compareTo:[Z.pubfigInitRequestStart]}),gr()})})();})();
